<!DOCTYPE html>
<html>

<head>
    <title>Chat - Room #<%= id %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />
    <script src="https://kit.fontawesome.com/c50b50a96f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://bootswatch.com/4/pulse/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../public/css/style.css" />
</head>

<body>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        //client
        var socket = io();

        //send message to server
        var send = function () {
            text = document.getElementById("message_room_input").value;
            socket.emit("chat message", text);
        };

        // On message receive
        var receive = function (msg) {
            var li = document.createElement("li");
            li.innerText = msg;
            document.getElementById("messages").appendChild(li);
        };
        socket.on("chat message", receive);
    </script>

    <div class="centre">
        <div id="choose_room" class="shadow-lg p-3">

            <!-- Message list -->
            <div style="height: 90%; overflow:auto">
                <ul id="messages" class="text-white"></ul>
            </div>

            <!-- Send message box -->
            <div class="row" style="margin-top: 4%">
                <input required type="text" style="margin-left: 3%" class="form-control" placeholder="Message"
                    id="message_room_input" />
                <!--<input type="submit" class="btn btn-outline-secondary" style="margin-left: 3%; border-radius: 13px;" value="Join room"></input> -->
                <button id="send" onclick="send()" class="btn btn-outline-secondary">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
</body>

</html>